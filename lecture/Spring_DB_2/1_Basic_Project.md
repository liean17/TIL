# 데이터 접근 기술 - 시작

## 프로젝트 설명
- 상품등록, 수정, 조회가 가능하다.
- 아이템명, 가격으로 검색이 가능하다.

---
### 프로필
스프링은 로딩 시점에 application.properties의 'spring.profiles.active' 속성을 읽어서 프로필로 사용한다.  
프로필은 다양한 환경에 따라서 각각 다른 설정을 할때 사용한다.  
운영 환경에 따라 사용하는 데이터베이스가 달라질 수 있는데 프로필 설정을 통해 쉽게 변경해서 사용이 가능하다.  
설정방법은 각 환경마다 실행해야하는 메서드 위에 '@Profiles("local")' 처럼 달아주면 된다.  


---
### 트레이드 오프
- 중간에 인터페이스를 하나 만드는 것  
    - DI, OCP 원칙을 지킬 수 있다.
    - 복잡하다. 어댑터 코드와 실제 코드를 함께 유지보수해야한다.

- 서비스에서 바로 repository 구현체를 사용하는 것
    - DI, OCP 원칙은 포기하지만 구조가 단순해진다.
    - 구현체를 수정하기 복잡하다.

> 어설픈 추상화는 독이 될 수 있다.  
추상화에 따르는 유지보수의 단점을 넘어설 만큼 효과가 있을때 적용하는 것이 실용적이다.

- 영한님의 추천 : 간단하고, 단순하고 빨리 해결할 수 있는 방법을 선택

---
### 실용적인 구조
- Spring Data Jpa를 사용해서 기본 CRUD를 사용하되  
복잡한 쿼리를 쓸때는 QueryRepository를 따로 만들어서 관리하기  


