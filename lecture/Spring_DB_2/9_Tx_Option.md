# 트랜잭션 옵션

## 옵션 소개
- **readOnly**  
읽기 전용 트랜잭션 -> 등록, 수정, 삭제가 안되고 읽기 기능만 작동한다.  
드라이버나 데이터베이스에 따라 작동하지 않을 수도 있다. 성능 최적화에 사용된다.

    - 프레임워크  
    **JdbcTemplate**은 읽기 전용 트랜잭션 안에서 변경 기능이 실행되면 예외를 던진다  
    **JPA**는 읽기 전용 트랜잭션의 경우, 커밋 시점에 플러시를 호출하지 않는다. 스냅샷 객체도 생성하지 않는다.  

    - JDBC 드라이버  
    *버전에 따라 다르게 동작한다.  
    읽기 전용 트랜잭션에서 변경 쿼리가 발생하면 예외를 던진다.  
    읽기, 쓰기(master, slave) 데이터베이스를 구분해서 요청한다.

- value, transactionManager  
```@Transactional("exTxManager")```  
사용할 트랜잭션 매니저를 지정한다. 생략하면 기본으로 등록된 트랜잭션 매니저를 사용한다.

- rollbackFor  
스프링 트랜잭션의 기본 정책은 다음과 같다
    - 언체크 예외인 RuntimeException, Error와 그 하위 예외는 롤백
    - 체크 예외인 Exception과 그 하위 예외는 커밋  
이 옵션을 사용하면 롤백을 할 예외를 추가할 수 있다.   

- noRollBackFor  
위와 반대로 롤백하지 않을 예외를 지정할 수 있다.  

- propagation



- timeout  
트랜잭션 수행 시간에 대한 타임아웃을 초 단위로 지정한다.

- isolation  
트랜잭션 격리 수준을 지정한다.  
기본값은 데이터베이스에서 설정한 트랜잭션 격리 수준을 사용한다.  
