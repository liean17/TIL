# 트랜잭션 예외와 커밋, 롤백

### CheckedException
- 트랜잭션 도중 런타임 예외가 발생하면 롤백이 되지만  
Exception 하위의 CheckedException은 기본적으로 그냥 커밋이 된다.  
- 왜냐하면 스프링은 체크 예외는 비즈니스 의미가 있을때 사용되고, 런타임 예외는 복구가 불가능한 예외로 가정하기 때문이다.  
    - 상품 결제를 예로 들면, 시스템 자체에서 예외가 발생하면(런타임예외) 전체 데이터를 롤백하는 것이 안전하다.  
    하지만 고객의 예금 잔액이 부족해서 결제가 되지않는 예외(비즈니스 예외)는 시스템은 정상 동작한것이기 때문에 롤백을 할 필요가 없다.  
- 비즈니스 상황에 따라 체크 예외 발생시 롤백을 하고싶다면 rollbackFor 옵션을 사용하면 된다.  
