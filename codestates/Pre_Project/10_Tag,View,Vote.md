# 사전 프로젝트
## 세부기능들

### 학습을 앞두고
- 굵직굵직한것들은 끝이났다. 가입해서 글쓰는 모든 활동이 가능하다.  
이제 남은건 태그등록, 조회수와 투표기능 그리고 시큐리티가 남았다. 또 데이터베이스도 변경해야한다.  
최대한 빨리 끝내고 배포해보면좋겠다.


### 트러블 슈팅
- HttpMessageNotReadableException, cannot deserialize from Object value  
글을 수정할때 위와 같은 메세지가 나왔다. 요청을 JSON으로 파싱할 수 없다는 내용이었는데  
내가 보기에는 UpdateDto에 이상이 없어서 내가 모르는 내용이 있겠거니 생각하려했으나, 다 안되는 와중에 Question의 수정은 가능했다.  
그래서 Question과 다른것들을 비교해봤는데 내가보기에는 정말 모든 내용이 같았다.  
그럼에도 여전히 질문 수정은 되고 나머지는 안되길래 아예 질문쪽은 무시하고 검색해봤는데  
생성자문제였다. JSON형태로 모델을 생성할때 빈생성자가 있어야만 파싱이 가능했던 것이다.  
그래서 빈 생성자를 모두 추가해주니 정상적으로 수정이 됐다!  
그런데 여전히 question에는 빈 생성자가 존재하지않는다. Question은 왜 그냥 되었던건지 아직 의문이다.

- 로그인한 세션이 쿠키에 제대로 저장되지 않는 문제  
로그인데이터를 세션에 직접 저장하는 방식으로 로그인을 구현했고 모든 동작이 정상적으로 작동했다.  
하지만 프론트에서는 로그인세션이 제대로 저장되지않았다. 아무래도 프론트에서 작업하는것 따로, 내 서버 따로라서  
프론트에서 세션을 저장하면 그쪽이 아니라 내 서버쪽에 저장될뿐이라 프론트에서 사용할 수 없는 듯 했다.  
초반에 시큐리티를 도입하는 팀에서 오류가 있어서 jwt를 도입했다는게 이것때문인듯하다.  
우선 로그인 관련된것을 지우고 프론트가 작업할 수 있는 환경만 만들어두었다.  
프론트와 백엔드 서버를 함께 돌리면 괜찮다고도하는데 그 이전에 jwt를 제대로 학습해야지싶다.  

### 후기
- 검색  
윤조님의 가르침을 받고 검색을 쉽게 구현했다. Querydsl의 사용법은 어느정도 익혔다. 사실 사용은 정말 간단한데 원리의 이해가 어렵다.  

- 최선에 대하여  
나는 지금 코드가 최선이 아님을 알고있다. 하지만 대부분 손가는대로 작성하게된다. 아무래도 시간에 쫓기기때문인것같다.  
메서드 이름도 중구난방이고, 같은 로직도 다른 방식으로 작성하고있다. 테스트는 손도못대고있다. 핑계라면 핑계지만 좀 더 여유로웠다면 어떨까싶다.

