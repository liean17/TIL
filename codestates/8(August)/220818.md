# Day 80

## 코드스테이츠

### 1. 학습시간 전
* 오늘 학습목표

    - 기술면접에 대비한다.

* 학습을 앞두고

    - 섹션4의 총정리. 가장 쉽지않았던 섹션이었던 만큼 확실히 정리하자.


### 학습시간 이후
* 오늘의 난이도

    - 중

* 오늘의 정리

    - 인증과 인가의 차이  
    : 인증은 사용자의 신원을 검증하는 것이며 일반 웹 페이지에서 아이디와 패스워드를 사용해 로그인하는 절차와 같다  
    : 인가는 특정 리소스나 기능에 대한 권한을 부여하는 것으로 인증에 이어 수행되곤한다.  
    
    - 세션  
    : 사용자가 인증에 성공한 상태이며 일반적으로 브라우저가 종료될때 까지 유지된다.
    
    - 세션, 쿠키, 토큰인증 방식  
    : 세션 인증방식은 클라이언트의 쿠키를 먼저 확인 하고 쿠키가 있으면 쿠키를 이용해서 세션 ID값을 서버에 전달하고, 존재하지 않으면 세션을 생성한 뒤 클라이언트에게 쿠키로 저장할 수 있도록 전달한다. 이후 세션 ID를 통해서 DB에서 알맞은 정보를 찾아 제공한다.     
    : 토큰 인증방식은 토큰 안에 이미 정보가 담겨있기때문에 서버에서는 확인만 하면 된다. 
    
    - 세션과 토큰 인증 방식의 장단점  
    : 세션인증 방식은 세션 ID만 넘기기 때문에 보안에서 유리하다. 하지만 데이터베이스가 필요하며 큰 서비스의 경우 많은 비용이 들게된다.  
    : 토큰인증 방식은 토큰만 해독하면 되기 때문에 데이터를 어디에 따로 저장할 필요가 없다. 하지만 정보를 담은 토큰은 반드시 어딘가에 저장되어야하므로 탈취 되었을때 중요 정보를 노출하기 쉽다.   
    
    - HTTP / HTTPS  
    : HTTP는 서버/클라이언트 모델을 따라 데이터를 주고 받기 위한 프로토콜이다.  
    : HTTPS는 HTTP에 데이터 암호화를 추가한 프로토콜이다. HTTP에서는 암호화가 전혀 되지 않은 평문을 전송하는 프로토콜이어서 제 3자가 정보를 확인하기 쉬웠다.  
    대칭키/비대칭키 암호화 방식을 통해 데이터를 암호화해서 전송한다. 
    
    - OAuth 2.0 워크플로우  
    : 서비스와 서비스 사용자, 그리고 OAuth2를 사용해서 정보를 제공하는 회사의 권한 서버와 리소스 서버가 있다.  
    서비스 사용자가 서비스 사용 요청을 하면, 서비스 즉 클라이언트는 권한 서버에 요청이 왔음을 알리고 사용자가 로그인 할 수 있게 한다.  
    로그인과 권한 설정을 마치면 클라이언트느 권한 서버에 엑세스 토큰을 요청하고 요청에 따라 만들어진 토큰을 통해 리소스 서버에 자원을 요청한다.  
    그리고 전달받은 리소스를 사용자에게 전달한다.

    - 스프링 시큐리티 인증흐름 
    : 인증흐름 - 로그인 요청이 들어오면 해당 정보를 사용해서 Authentication객체를 생성한다.  
    이 객체는 UserDetailsService로 전달되어 입력된 정보가 유효한지, DB에 존재하는지를 검증한다.  
    검증되었다면 해당 정보를 바탕으로 UserDetails를 생성하고 다시 Authentication으로 생성해서 SecurityContext에 저장하여 인증에 사용된다.  
    
    - Filter와 Filter Chain 설명  
    : 필터는 말 그대로 특정한 조건에 따라 요청을 걸러낸다. 대표적으로 인증과 인가에 대한 처리를 필터에서 수행하게 된다.  
    필터체인은 여러개의 필터가 연결되어있는 것으로 순서가 매우 중요하다.

    - **정식님의 조언**
    1. API 계층 구현을 위한 단계적 접근

* 오늘 새롭게 배운 것

    - 전달은 쉽다. 이해도 할만하다. 사용이 어렵다.

* 총평 

    - 이번에는 여러가지 질문을 정리해봤다. 이번 세션은 조금 소홀했었다. 내용이 복잡한것같은데 공부할 자료도 많이 없어서 헤맸기때문이다.  
    그리고 페어프로젝트를 진행하면서 이번에 배운 내용이 얼마나 중요한것인지 알게되어 다시금 공부하게되었다.  
    다시봐도 어렵긴하다. 그래도 반드시 알아야되는 것이다.

---
## 개인공부  

### 오늘의 목표
- Spring Data Jpa 강의
- Rest Api 문서화 복습

### 학습을 앞두고

- Api 문서화 필요성이 커졌다. 확실하게 알아두자.

### 학습 이후
* 오늘의 난이도

    - 중상
* 오늘의 정리

    - [SpringDataJpa](/lecture/Spring_DB_2/5_Spring_Data_JPA.md)
    - [SpringRestDocs](/personalStudy/Spring_Rest_Docs.md)

* 오늘 새롭게 배운 것

    - 스프링 data jpa가 어렵게 느껴지는 이유는 jpa지식이 부족해서이다!

* 오늘의 질문

    - 저 문서를 보면 프론트개발자들이 '아하'하고 바로 알아줄지 모르겠다.
* 총평 

    - 미루었던 공부를 해냈다는것에 큰 점수를 스스로 주고싶다.  
    다음에 또 연습삼아 만들어보자. 생각보다재밌었다.

---