> 지난숙제   
VPC 생성하고, public과 private 서블릿을 생성한다.  
그리고 private에 ec2를 연결해야하는데 아마 로컬에서 연결이 안될거다.  
로드밸런서를 사용해서 로컬에서 접근할 수 있도록 만들자.

> **숙제풀이** :  

- VPC : aws에서 제공하는 격리된 가상 네트워크  
- 서브넷 : vpc주소를 쪼갠 네트워크 주소
    - public
    - private : 외부와 차단되어있으며 다른 서브넷과 연결만 가능하다.  
    이번에 내가 한 작업은 NAT(Network Address Tranfer) 인스턴스를 public 서브넷에 생성해서 private내에 있는 인터넷이 가능하게 한 작업이다.  
    `이렇게 하는 이유` : 행위별로 IP를 분리해서 효율적으로 운영하기 위함, 외부에서 노출되면 곤란한 서비스를 별도로 관리하기 위함.  
- 라우팅 : 네트워크 트래픽이 전달되는 경로를 제어하는 것.  
- 인터넷 게이트웨이 : 격리된 vpc에 생성된 인스턴스에서 인터넷을 사용하기 위해 설정하는 것.  
- 보안그룹 : 인스턴스에 대한 인바운드, 아웃바운드 트래픽을 제어하는 가상 방화벽  
    - 인바운드 : 접근하려는 대상에 대한것
    - 아웃바운드 : 나가려고하는 대상에 대한 것

> 참고  
[왕초보 탈출 AWS](https://minjii-ya.tistory.com/32?category=946161)  
[public->private](https://galid1.tistory.com/367)  
[VPC공식문서](https://docs.aws.amazon.com/ko_kr/vpc/latest/userguide/what-is-amazon-vpc.html)  
[VPC란](https://memory-hub.tistory.com/11)
---

### 질문  
- 응답마다 객체를 반환하는게 맞는지? 그리고 한두개정도의 정보만 뷰에서 필요한데, 전체 객체를 반환해줘도 성능측면에서 문제없는지  
- 응답마다 만드는게 맞으면 모든 응답마다 사용데이터가 다르면 그에 따라 만들어야하는지, 혹은 타협해야하는지
- 테스트 코드 작성흐름 -> 언제 어느 타이밍에 테스트코드를 써야하는지 잘 모르겠다. 

---

## 두번째 멘토링  
> TASK : Master slave로 rds구성, 왜 분산하는지 고민, 어떤이점이있는지, 백업 aws에서 어떻게할까
RDS, 두개로 구성해야한다 Master - select제외 모든쿼리, Slave - 마스터에서 실시간 연동됨 여기서만 select사용.  
이유 - 부하분산, 안정성(Master)   
분산하는 이유에 대해서 더 고민해보면 좋다.  
    - RDS 인스턴스 하기전에 DB공부해야할게 많다.(캐릭터셋, 동시성이슈)  
    DB Isolation level - DB 격리레벨  
    aws에서는 파라미터 그룹, 이모티콘쓰려면 캐릭터셋 설정해야함   

### 질문과 응답
- 응답마다 객체를 반환하는게 맞는지? 그리고 한두개정도의 정보만 뷰에서 필요한데, 전체 객체를 반환해줘도 성능측면에서 문제없는지  
: 소프트웨어 엔지니어링 측 문제로는 모든 dto를 만드는게 맞다. 유지보수 관리하기가 쉽다. 단 가진 리소스를 고려해서 타협도 필요하다. 
    - 엔티티를 리턴해서는 안된다. 컨트롤러로 엔티티를 전송하면안된다.  dto
    서비스가 직접 dto를 반환하도록 잘 하는데 dto가 서비스에 의존하게되는 단점도 있어서 역할을 잘 나누는게 중요하다. 

- 동 : private 서브넷이 public에 의존해서 보안이 부족해보인다.  퍼블릭은 아무데서나 접근할 수 있다.
bastion host : 여기에 대한 보안 챙기는법
    1. 보안그룹 설정
    - 우리회사에서 지정한 ip에서만 접근할 수 있게한다.  
    2. ssh로 접근할 수 있게하되 다른 vpc를 또하나 만든다.  
    그리고 ec2를 또하나 만들기 - vpc 피어링이라는 개념 - 이 vpc는 외부에 노출이 되어있지않음  
    3. 그래서 도커를 쓴다(이미지) 혹은 AWS의 ECS

- 동 : aws 다음 스텍으로 추천? ->도커 혹은 ecs도 괜찮다. 무중단 배포도 가능하다. -> 쿠버네티스 aws(EKS)  

--- 

### 테스트관련
- 테스트코드 : 전회사 cto님에게 엄청혼남 왜? 100명치 성과가 안남 50밖에안함  
무조건 페어프로그래밍을 시켰는데 엔티티 도메인객

- 예 : 도그라는 객체와 이즈올드라는 메서드가있다.  
그럼 선언만 해두고 테스트를 먼저짠다.  
그리고 구현체를 만들어나간다.  

- 좋은점 : 관심사 분리가 잘된다.  
예를 들어 사람안에 개가있을때 개에 대한 메서드를 작성하다보면 이게 객체지향인가 의문이 테스트를 통해서 들수있다.  

---

### 취업팁
- 취업팁 : CKA, CKS, CKAD(너무쉬움 1,2달) 자격증 추천 
AWS자격증 - SAA 추천(비용최적화도 공부하는것)  
회사가 커질수록 db 같은것을 물어봄  
스프링 잘쓰는건 일도아니다.  

- 테크컨퍼런스 참여하면 시야가 넓어지고 좋다.  

- 채용공고자주봐라 모르면 알려주겠다.

- 프로그래머스 데브매칭 추천  

- 전에 다니던 회사분들과 이야기  
: 개발자(기술에 대해 고민하는 개발자)가 없다  

- 지금 팀리더를 하고있는데 신입들 보면 너네가 낫다(...)  
석사출신인데 csl에서야 탄탄할건데  

- 화해? 라는 회사 영어만 쓰는회사가 될 예정  
영어를 못해서 놓치는 기회가 있을 수 있다.  
영어를 놓지마라!

- 공부추천  :  컴퓨터 공학 하버드 CS-50, 운영체제(공룡책), 네트워크, DB(알고리즘과 자료구조는 당연함)  
OSI 7계층 - 네트워크 (그림으로 배우는 네트워크 기초) 책 좋다.  

- 백엔드에서 비용관리능력도 필요할 수 있다.   

- 너무 스프링 프레임워크에 갇혀있지마라.  

--- 
### 배포관련

- 배포자동화툴 : 툴은 엄청 많다. 젠킨스 깃헙액션 등등등등등 수백수천개임  
깃헙액션 많이쓰는편 - 무료, 내멋대로 커스터마이징 가능,  
작은 회사에서는 aws에서 코드파이프라인 잘씀 - 잘보이고 비용 저렴해서  
약간 올드하긴한데 젠킨스도 쓰는 회사가 꽤 있다. 배치프로세스를 하기 좋다.  

- DBA - 데이터베이스관리자  

--- 

- 배우는 기쁨 누리면서 열심히 또 한주를 보내십시오
