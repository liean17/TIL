# Week 2 : OS(Ubuntu) 기타

## 리눅스의 종류  
- 리눅스가 무엇인가?  
리누스가 만든 UNIX  
리누스는 프로세스 관리, 파일 시스템 관리, 메모리 관리를 담당하는 커널을 만들었고, 리눅스의 발전을 지원하는 GNU프로젝트를 통해 응용프로그램이 더해져 지금의 모습이 되었다.  

- 리눅스는 종류가 왜 많은가?  
리눅스의 특징은 누구나 자유롭게 사용할 수 있다는 점이다.  
이러한 특징 아래에서 용도에 맞는 다양한 변형생기다보니 2013년 기준으로만 450개의 배포판이 존재한다.  
    - 단적인 예  
    RHEL은 주로 기업용으로 쓰이고, 우분투는 개인용으로 쓰이며  
    해킹, 디지털 포랜식에 주로 사용되는 칼리 리눅스나  
    라우터, 방화벽, VPN 용도에 최적화된 알파인 리눅스등  
    다양한 용도에 특화된 리눅스도 존재한다.

- 리눅스는 크게 세가지 계열로 구분할 수 있으며 특징은 다음과 같다.

1. 슬랙웨어 계열  
배포판 중 가장 오래되었다.  
패키지 매니저를 사용하지 않아서 사용자가 모든 작업을 알아서 관리해야한다.  
특징적으로는 의존성 검사를 하지 않는다.  
사용자의 자유도가 높은 만큼 책임도 커서 사용률이 높지는 않다.  
    - SuSE  
    유럽에서 많이 사용되는 데스크탑과 서버용 리눅스  
    SAP와의 협업으로 SAP 솔루션에서 높은 점유율을 가진다.

2. 레드햇 계열  
레드햇 이라는 기업에서 제공하는 배포판으로 가장 큰 특징은 기업에서 해주는 기술지원(**어떤?**)이다.  
기술지원을 통한 안정성 덕에 서버용도로 잘 쓰인다.  
RedHatEnterpriseLinux가 대표적인 배포판이며 시장 점유율이 가장 높다.

    - CentOS  
    레드햇에서 유료로 제공하는 배포판의 소스코드를 사용해서  
    무료로 사용할 수 있도록 똑같이 만든 배포판  
    유료로 제공되는 안정성 높은 배포판을 무료로 사용할 수 있다는 장점이 있다. 단점으로는 기술 지원이 불가능하다.  
    얼마전부터 지원이 종료되어 다른 클론 프로젝트가 진행중이다.  
    - Fedora  
    레드햇에서 제공하는 테스트 목적의 배포판  
    레드햇의 새로운 기능을 페도라에서 무료로 제공하여 테스트를 하고 해당 테스트를 바탕으로 안정화된 버전을 유료로 배포하는 방식이다.  


3. 데비안 계열  
적극적으로 비 자유 소프트웨어를 배제하는 배포판이다.  
대표적인 배포판으로 우분투가 존재하며 기업 혹은 재단과 같은 주체가 주도하는 것이 아닌데다가 안정성을 우선시해서 다른 배포판들에 비해 업데이트가 보수적으로 이루어진다.

    - Ubuntu  
    6개월 단위로 새 버전을 발표하며, 2년 주기로 LTS(5년 기술지원 버전)을 발표한다.  
    데비안이 사용하는 apt를 이어받아 패키지를 쉽게 관리할 수 있다.  
    이 때문에 일반 사용자들이 많이 사용한다.

4. 종류 별 차이  
라이브러리, 설정 파일, 패키지 설치 방법과 관련해서 차이가 난다.  
    - 패키지란  
    리눅스 소프트웨어를 실행하는데 필요한 파일들이 담겨있는 설치 파일 묶음  
    - 저수준 툴 : dpkg, rpm 등 실제 패키지의 설치, 업데이트, 삭제를 수행
    - 고수준 툴 : apt, yum 등 의존성 해결, 패키지 검색등의 기능 제공
        - 예를들어 dpkg는 해당 패키지만 설치하기 때문에  
        해당 패키지에 종속되어 설치되어야 하는 프로그램을 함께 설치하려면 apt를 사용해야한다. 인터넷이 연결되어있다면 자동으로 설치되고 폐쇄망이라면 로컬 리포지토리를 구성해서 경로를 설정해야한다.

- 목적에 따른 사용 빈도 추가
    - 기업은

## 리소스 모니터링
- 리소스 모니터링이 무엇인가?  
리소스의 상태 변화를 지속적으로 감시하는 과정이다.  
일반적으로 CPU, Memory, I/O를 관찰한다.
- 어떻게 하는가?
    - CPU 문제 점검  
        - top, htop : 실시간 CPU, Memory 모니터링 가능  
        CPU나 메모리를 많이 사용하는 프로세스를 찾는다.  
        - top 설명 : https://sabarada.tistory.com/146
            - cpu는 cpu%나 load average
    - 메모리 문제 점검  
        - top, free
        - swap 메모리 : 실제 메모리가 가득 찼을때 하드디스크공간을 활용해서 메모리로 사용하는 것
    - 디스크 문제 점검
        - vmstat(https://lilo.tistory.com/33)  
            - r : CPU에서 대기중인 프로세스의 수, 높다면 CPU의 성능 개선필요
            - b : 입출력 자원을 할당받지 못해서 sleep 상태인 프로세스의 수, 높다면 디스크 i/o를 확인해봐야한다.
            - si : 디스크 swap 공간에 있는 데이터를 메모리로 호출하는 양
            - so : 메모리에서 디스크로 보내는 데이터 양이며, 지속적으로 발생한다면 메모리가 부족하다는 뜻이다.
            - io : 입출력 상태를 나타내며 해당값이 높다는 것은 디스크에 읽고 쓰는 값이 많다는 뜻이다.
- 왜 해야하는가? + 하지않으면?
    - (**어떤**)문제가 발생했을때 빠르게 원인을 파악할 수 있는 수단이되고  
    평소에도 모니터링을 통해서 어떤 상황에 성능에 영향이 생기는지 미리 알 수 있다.

## 심볼릭 링크
- 심볼릭 링크가 무엇인가?  
    - 하드링크  
    원본 파일과 동일한 내용의 다른 파일  
        - 복사와 다른점 : 하드링크 파일을 수정하면 원본 파일도 변경된다.
        - inode 리눅스 파일의 권한, 종류 등 다양한 정보를 가지고 있는 임의의 번호다. 파일명이 다르더라도 이 번호가 같다면 같은 파일로 인식된다. 하드링크는 inode번호가 동일하고 복사본은 다르다.
    - 소프트 링크(심볼릭 링크)
        - 윈도우의 바로가기와 유사하다.  
        - 원본 파일과 다른 inode를 가지는 다른 파일이지만 원본 파일을 가리켜서 원본 파일과 연결하는 효과를 가진다.
        - 즉 원본파일의 위치에 직접 가지 않아도 원본파일을 실행할 수 있다.  
        - 원본 파일이 삭제되면 실행할 수 없고  
        원본 파일이 대체되면 대체된 파일을 실행한다.
- **심볼릭 링크 실습**
- 심볼릭 링크는 어디에 필요한가?(심볼릭 링크 사용 이유)
    1. 경로 단축  
    2. 

## 서비스와 스케쥴링
- 서비스(프로세스)란 무엇인가?  
파일 실행 주체  
파일을 실행했을때 CPU에 올라가서 실행되는 하나의 인스턴스  

- 스케쥴링은 무엇인가(crontab, initd)?  
프로세스 실행 순서를 정하는 것  
    - cron : 특정한 시간, 혹은 시간 마다 특정 작업을 반복적, 자동으로 수행하고 싶을때 사용하는 데몬  
    - 데몬이란?  
    : 백그라운드에서 동작하며 특정한 서비스를 제공하는 프로세스.  
    대표적으로 프로그램을 자동을 실행하는 cron , 시스템의 상태를 종합적으로 관리하는 systemd가 있다.

- 스케쥴링은 왜 필요한가?  
    - 보안 검사나 데이터 전송 등 정기적으로 실행할 필요가 있는 작업이 있을때 필요하다.  
    - 시스템 사용이 적은 시간에 작업량이 많은 작업을 수행해야할때 시간을 설정해서 자동으로 수행할 수 있다.  
- **cron 실행 과정** 
    - (/etc/crontab)crontab : cron 작업을 설정하는 파일.  
    - 전원 ON -> Init 데몬 -> cron 데몬  
    -> crontab을 읽어 해당 작업 실행  
    -> /var/spool/cron 내의 파일(각 사용자의 개별 cron설정 파일)을 읽음  
    -> cron에 의해 수행되지 모산 작업 anacron에서 수행 시도  
    -> cron 로그 파일에 실행 기록
- **cron 실습**

## 서비스와 권한
- 서비스 권한이란 무엇인가?  
    - 파일에 따라 읽고, 쓰고, 실행할 수 있는 권한을 설정할 수 있다.
- 권한은 왜 필요한가?
    - 리눅스는 여러 사용자가 사용할 수 있는 운영체제이기 때문에 다른 사용자가 파일을 함부로 수정,삭제,실행할 수 없도록 관리해야한다.  
    - 리눅스에는 소유권과 허가권이 존재한다.  
    소유권은 어떠한 파일이나 디렉터리를 소유해서 지배하는 권리이고  
    허가권은 해당 파일에 접근 권한을 설정하는 권리이다.  
    일반적으로 소유권을 가진 사용자가 허가권을 설정한다.  

- 권한 설정 방법  
    - -rwxrwxrwx : 3개씩 끊어서 소유권자/그룹사용자/그외사용자 의 권한을 나타낸다.  
        - r : read
        - w : write
        - x : execute
    - chmod(change mod)  
        - u,g,o,a(각 사용자)
        - +,-,=(권한 연산자)
        - rwx(권한)
        - -R : 하위파일 권한 설정
- 소유권 변경
    - chown(change owner)  
        - chown [option] owner[:group] file(s)  
## 커널 모듈
- 커널이란?  
프로세스 관리, 메모리 관리, 파일 시스템 관리, 장치 관리 등 컴퓨터의 모든 자원을 초기화하고 제어하는 리눅스의 핵심  
- 커널 모듈이란?  
리눅스의 핵심인 커널에 어떤 기능을 추가하려면 커널 재부팅이 필요하다.  
모듈을 사용하면 시스템이 실행중인 상황에서 동적으로 기능을 추가하거나 제거할 수 있다.  

- 커널 모듈의 사용처
- **커널 모듈 실습**

## syslog 데몬
- syslog 데몬은 무엇인가
- 동작 흐름
    1. 시스템이 부팅되면서 syslogd 실행
    2. syslog.conf를 읽어서 로그파일에 관한 설정 반영
    3. syslog.conf에 기록된 각각의 로그파일들의 로그기록 시작
    4. logrotate에 의해 각 log파일들 관리
        - logrotate란?  
        계속 쌓이는 로그가 너무 거대해지지 않도록 주기적으로 삭제하는 서비스  
- 로그 종류
    - 

