# 배포자동화 대작전

## Unknown Error
배포자동화는 몇번 해보긴했지만 항상 뭔가를 보고 따라했기때문에  
거의 막힘이 없었고 막혀도 다른 막힌 사람들의 해결법을 보면 쉽게 할 수 있었다.  
이번에는 스스로 해보려하는데 github action에서 build는 성공했지만  
codedeploy에서 오류가 났다.  

### 시도들
- server 인스턴스를 살펴보니 배포관련 파일이 하나도 넘어오질않았다  
접근 자체를 실패한듯해서 인바운드 규칙을 살펴보고 모든 트래픽을 열었는데도 결과는 동일했다
- aws관련 의존성이 추가되지않았다는 것을 알게되었다.  
aws관련 작업을 할 수 없는게 당연했기에 오류가 날 수 밖에 없는 것이었다.  
하지만 수정해줬음에도 이전과 동일한 오류가 발생했다.  

### 배포과정에서 자주한 실수
- 정말 다행히도 메일이 왔는데, application.yml을 노출해버렸다.  
ignore에 등록하면 전혀 문제가없지만 배포자동화를 하면서 빈 application.yml을 등록해야했다.  
거기까지는 괜찮은데 이제 pull을 받으면 빈 파일이 덮어씌워지게되고  
어플리케이션을 테스트한답시고 application.yml에 정보를 넣어두고 사용하다가  
실수로 커밋하게될수도 있다.  
application.yml 파일을 배포용, 테스트용 등으로 구분하고  
application.yml 에는 import정보만 남겨두는게 좋다.