# 첫번째 협업 프로젝트
[리포지토리 링크](https://github.com/liean17/first-duo-project)

## 오늘 한 것
- 멤버 정보 페이지 생성  
멤버 정보를 확인하고 해당 멤버가 작성한 글을 모두 확인할 수 있는 페이지를 만들었다.  
한가지 고민이 있다면 멤버가 탈퇴하면 해당 멤버가 작성한 글도 모두 삭제된다는 것이다.  
아마 Cascade옵션을 건드려야할 것 같다.  

- 사진 업로드 추가  
글을 쓸때 사진을 업로드 할 수 있도록했다.  
전체적인 흐름은 다음과같다.  
1. 템플릿에서 enctype을 multipart를 받을 수 있게 하고 input의 file 태그를 통해 파일을 올릴 수 있게 설정한다.
2. saveDto에는 Multipart파일을 받게 설정하고, 엔티티에는 파일이 저장된 경로를 받을 수 있도록 String 타입을 추가한다.  
3. 파일 저장을 담당하는 FileStore를 만든다. 이 클래스의 역할은 다음과 같다.  
    - 실제로 파일이 저장될 로컬 경로를 가지고있다.
    - uuid를 통해 파일명을 변경해서 중복을 방지한 후, multipartFile의 transferTo메서드를 통해 경로에 파일을 저장한다.
    - 그리고 엔티티에 저정될 저장경로를 String 타입으로 반환한다.
4. Service에서 FileStore를 사용해서 엔티티에 저장경로를 담아 저장한다.
5. 템플릿에 바로 출력해보면 사진은 제대로 출력되지 않는다.
6. UrlResource를 통해 컨트롤러에 사진 출력을 위한 주소를 만들어 매핑한다.   